# Manual Trading API Environment Configuration
# Copy this file to .env.api and update with your values

# ============================================================================
# JWT Configuration
# ============================================================================

# Secret key for signing JWT tokens (CHANGE THIS IN PRODUCTION!)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_SECRET_KEY=CHANGE-THIS-TO-RANDOM-STRING-IN-PRODUCTION

# JWT token expiration times
API_ACCESS_TOKEN_EXPIRE_MINUTES=60
API_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# User Authentication
# ============================================================================

# Admin user credentials
# Format: username:bcrypt_hashed_password
#
# Generate password hash with:
# python -c "from passlib.context import CryptContext; pwd_context = CryptContext(schemes=['bcrypt'], deprecated='auto'); password = 'YOUR_PASSWORD'; print(f'API_USER_ADMIN=admin:{pwd_context.hash(password)}')"
#
API_USER_ADMIN=admin:$2b$12$REPLACE_THIS_WITH_ACTUAL_BCRYPT_HASH

# Alternative: Add more users (optional)
# API_USER_TRADER=trader:$2b$12$hash...
# API_USER_VIEWER=viewer:$2b$12$hash...

# ============================================================================
# MT5 API Integration (Optional - for full functionality)
# ============================================================================

# MT5 API base URL
# - Use http://host.docker.internal:8000/mt5 if MT5 API runs on host machine
# - Use http://mt5-api:8000/mt5 if MT5 API runs in Docker with same network
# - Leave as-is for standalone mode (limited functionality)
API_BASE_URL=http://host.docker.internal:8000/mt5

# ============================================================================
# Trading System Configuration
# ============================================================================

# Account type (daily or swing)
ACCOUNT_TYPE=swing

# ============================================================================
# Logging Configuration (Optional)
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
API_LOG_LEVEL=INFO

# ============================================================================
# Security Configuration (Optional)
# ============================================================================

# Enable CORS (set to specific origins in production)
# API_CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Rate limiting (requests per minute)
# API_RATE_LIMIT=100

# ============================================================================
# Notes
# ============================================================================
#
# For standalone mode (basic functionality):
#   - Only set API_SECRET_KEY and API_USER_ADMIN
#   - These endpoints will work:
#     * Authentication (POST /auth/login)
#     * Manual signals (POST /signals/entry, /signals/exit)
#     * Automation control (POST /automation/enable, /automation/disable)
#     * System monitoring (GET /system/status, /system/metrics)
#
# For integrated mode (full functionality):
#   - Set API_BASE_URL to point to your MT5 API
#   - Or pass mt5_client and orchestrator when initializing APIService
#   - All endpoints will work including:
#     * Account monitoring (GET /account/*)
#     * Position tracking (GET /positions/*)
#     * Indicator monitoring (GET /indicators/*)
#     * Strategy monitoring (GET /strategies/*)
#
