# Docker Environment Variables Template
# Copy this file and customize for each broker in docker-compose.yml
#
# NOTE: In Docker deployments, configuration files (strategies, indicators, etc.)
# are mounted from configs/broker-{name}/ directories. This file documents the
# environment variables that control runtime behavior.

# ============================================================================
# API CONFIGURATION (REQUIRED)
# ============================================================================

# Broker API endpoint - MUST be different for each broker
# Use host.docker.internal to access services running on host machine
API_BASE_URL=http://host.docker.internal:8000/mt5

# Account type: "daily" or "swing"
ACCOUNT_TYPE=daily

# API request timeout in seconds
API_TIMEOUT=10

# ============================================================================
# CONFIGURATION PATHS (Docker-specific)
# ============================================================================

# Main configuration folder (where config files are mounted)
# In Docker: Always /app/config (don't change unless you know what you're doing)
CONF_FOLDER_PATH=/app/config

# Restrictions configuration folder
RESTRICTION_CONF_FOLDER_PATH=/app/config/restrictions

# ============================================================================
# TRADING MODE (REQUIRED)
# ============================================================================

# Trading mode: "live" or "backtest"
TRADE_MODE=live

# Backtest data path (only used when TRADE_MODE=backtest)
# BACKTEST_DATA_PATH=/path/to/backtest/data

# ============================================================================
# SYMBOL CONFIGURATION (REQUIRED)
# ============================================================================

# Multi-symbol support: Comma-separated list of symbols to trade
SYMBOLS=XAUUSD,BTCUSD

# Alternative: Single symbol (backward compatible, use SYMBOLS instead)
# SYMBOL=XAUUSD

# ============================================================================
# DEFAULT RISK PARAMETERS
# These apply to all symbols unless overridden by symbol-specific config
# ============================================================================

# Pip value for position sizing
PIP_VALUE=100

# Number of positions to split entry into
POSITION_SPLIT=4

# Scaling type: "equal", "progressive", or "proportional"
SCALING_TYPE=equal

# Entry spacing (distance between scaled entries)
ENTRY_SPACING=0.1

# Risk per position group (in account currency)
RISK_PER_GROUP=1000

# ============================================================================
# SYMBOL-SPECIFIC CONFIGURATION (Optional)
# Override default parameters for specific symbols
# Format: {SYMBOL}_{PARAMETER}
# ============================================================================

# XAUUSD (Gold) specific configuration
XAUUSD_PIP_VALUE=100
XAUUSD_POSITION_SPLIT=4
XAUUSD_SCALING_TYPE=equal
XAUUSD_ENTRY_SPACING=0.1
XAUUSD_RISK_PER_GROUP=1000

# BTCUSD (Bitcoin) specific configuration
BTCUSD_PIP_VALUE=100
BTCUSD_POSITION_SPLIT=2
BTCUSD_SCALING_TYPE=equal
BTCUSD_ENTRY_SPACING=10.0
BTCUSD_RISK_PER_GROUP=1500

# EURUSD (Euro) specific configuration
EURUSD_PIP_VALUE=10000
EURUSD_POSITION_SPLIT=3
EURUSD_SCALING_TYPE=equal
EURUSD_ENTRY_SPACING=0.001
EURUSD_RISK_PER_GROUP=800

# GBPUSD (British Pound) specific configuration
GBPUSD_PIP_VALUE=10000
GBPUSD_POSITION_SPLIT=3
GBPUSD_SCALING_TYPE=equal
GBPUSD_ENTRY_SPACING=0.001
GBPUSD_RISK_PER_GROUP=800

# ============================================================================
# RISK MANAGEMENT
# ============================================================================

# Maximum daily loss limit (in account currency)
DAILY_LOSS_LIMIT=5000

# Trading restrictions
NEWS_RESTRICTION_DURATION=2              # Hours before/after news events
MARKET_CLOSE_RESTRICTION_DURATION=10     # Minutes before market close
DEFAULT_CLOSE_TIME=23:40:00+03:00        # Market close time with timezone

# ============================================================================
# DOCKER-COMPOSE EXAMPLE
# ============================================================================
#
# To add a new broker to docker-compose.yml:
#
# broker-d:
#   build: .
#   image: quantronaute:latest
#   container_name: quantronaute-broker-d
#   volumes:
#     - ./configs/broker-d:/app/config:ro
#   environment:
#     - API_BASE_URL=http://host.docker.internal:8003/mt5
#     - ACCOUNT_TYPE=daily
#     - SYMBOLS=XAUUSD
#     # ... copy other environment variables from above
#   restart: unless-stopped
#   networks:
#     - trading-network
#
# ============================================================================
# CREATING A NEW BROKER CONFIGURATION
# ============================================================================
#
# 1. Copy the broker template:
#    cp -r configs/broker-template configs/broker-d
#
# 2. Customize the configuration files in configs/broker-d/:
#    - services.yaml: Service settings
#    - strategies/: Trading strategies per symbol
#    - indicators/: Indicator configurations
#    - restrictions/: Trading restrictions
#
# 3. Add the broker service to docker-compose.yml (see example above)
#
# 4. Start the broker:
#    docker-compose up -d broker-d
#
# ============================================================================
# CONTAINER MANAGEMENT COMMANDS
# ============================================================================
#
# Build the Docker image:
#   docker build -t quantronaute:latest .
#
# Start all brokers:
#   docker-compose up -d
#
# Start specific broker:
#   docker-compose up -d broker-a
#
# Stop specific broker:
#   docker-compose stop broker-a
#
# View logs:
#   docker-compose logs -f broker-a
#
# View logs for all brokers:
#   docker-compose logs -f
#
# Restart broker (after config changes):
#   docker-compose restart broker-a
#
# Stop all brokers:
#   docker-compose down
#
# Rebuild image and restart:
#   docker-compose up -d --build
#
# ============================================================================
